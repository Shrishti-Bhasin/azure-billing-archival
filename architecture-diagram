                   ┌─────────────────────────────┐
                   │         Client Apps         │
                   └────────────┬────────────────┘
                                │
                ┌───────────────▼───────────────┐
                │     Billing Records API       │
                │ (with Smart Fallback Logic)   │
                └────┬──────────────┬───────────┘
                     │              │
     ┌───────────────▼──────┐ ┌─────▼────────────────┐
     │ Azure Cosmos DB      │ │ Azure Blob Storage   │
     │ (Hot Data ≤ 3 mo.)   │ │ (Cold Data > 3 mo.)   │
     └──────────▲───────────┘ └──────────┬────────────┘
                │                        │
       ┌────────┴───────┐     ┌──────────▼────────────┐
       │Durable Function│<────┤ Timer Trigger + Retry │
       └────────────────┘     └───────────────────────┘

